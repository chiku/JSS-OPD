var Application={Models:{},Collections:{},collections:{},Routers:{},Views:{},Configuration:{Routes:{},Urls:{},Selectors:{}},initialize:function(){new Application.Routers.Patients();Backbone.history.start();Application.collections.patients.fetch()}};Application.Configuration.Selectors={main:'body div[role="main"]',patients:"#patients-container",patientDetails:"#patient-details-container",templates:{patients:"#template-patient"}};Application.Configuration.Urls={patients:"/patients.json"};Application.Models.Patient=Backbone.Model.extend({});Application.Collections.Patients=Backbone.Collection.extend({model:Application.Models.Patient,url:Application.Configuration.Urls.patients,parse:function(a){return a.patients},comparator:function(a){return a.get("name")}});Application.collections.patients=new Application.Collections.Patients;Application.Routers.Patients=Backbone.Router.extend({routes:{"":"index",patients:"index","patients/:id":"show"},initialize:function(){this.patientsView=new Application.Views.Patients.Index({collection:Application.collections.patients})},index:function(){this.patientsView.attachContentToCleanContainer()},show:function(a){}});Application.Views.Patients=Application.Views.Patients||{};Application.Views.Patients.Index=Backbone.View.extend({tagName:"section",className:"patient",template:function(){return _.template(jQuery(Application.Configuration.Selectors.templates.patients).html())},initialize:function(a){this.collection.bind("reset",this.render,this)},render:function(){this.collection.each(function(a){this.createNodeFor(a)},this);return this},createNodeFor:function(a){var b=this.template()(a.toJSON());jQuery(b).appendTo(this.el)},attachContentToCleanContainer:function(){jQuery(Application.Configuration.Selectors.patients).empty().append(this.render().el);return this}});jQuery(function(){var b=Application.Configuration.Selectors;var a=jQuery(b.main);jQuery("<section>",{id:b.patients.replace("#","")}).appendTo(a);jQuery("<section>",{id:b.patientDetails.replace("#","")}).appendTo(a);Application.initialize()});