var Application={Models:{},Collections:{},collections:{},Routers:{},Views:{},Configuration:{Routes:{},Urls:{},Selectors:{}},initialize:function(){new Application.Routers.Patients();Backbone.history.start();Application.collections.Patients.fetch()}};Application.Configuration.Routes={patients:{"":"index",patients:"index","patients/:id":"show"}};Application.Configuration.Selectors={main:'body div[role="main"]',viaId:{patients:"patients-container",patientDetails:"patient-details-container"}};Application.Configuration.Urls={patient:"/patients"};Application.Models.Patient=Backbone.Model.extend({url:function(){return Application.Configuration.Urls.patient+"/"+this.get("id")+".json"}});Application.Collections.Patients=Backbone.Collection.extend({model:Application.Models.Patient,url:function(){return Application.Configuration.Urls.patient+".json"},parse:function(a){return a.patients},comparator:function(a){return a.get("name")}});Application.collections.Patients=new Application.Collections.Patients;Application.Routers.Patients=Backbone.Router.extend({routes:Application.Configuration.Routes.patients,initialize:function(){this.patientsView=new Application.Views.Patients.Index({collection:Application.collections.Patients})},index:function(){this.patientsView.attachContentToCleanContainer()},show:function(a){}});Application.Views.Patients=Application.Views.Patients||{};Application.Views.Patients.Index=Backbone.View.extend({tagName:"section",className:"patient",template:function(){return _.template(jQuery("#template-patient").html())},initialize:function(a){this.collection.bind("reset",this.render,this)},render:function(){this.collection.each(function(a){this.createNodeFor(a)},this);return this},createNodeFor:function(a){var b=this.template()(a.toJSON());jQuery(b).appendTo(this.el)},attachContentToCleanContainer:function(){jQuery("#patients-container").empty().append(this.render().el);return this}});jQuery(function(){var a=jQuery('body div[role="main"]');jQuery("<section>",{id:Application.Configuration.Selectors.viaId.patients}).appendTo(a);jQuery("<section>",{id:Application.Configuration.Selectors.viaId.patientDetails}).appendTo(a);Application.initialize()});